# Flutter学习

### [入门](https://flutterchina.club/get-started/codelab/)

-   安装
-   第一个FlutterApp
-   Flutter框架总览
-   [Flutter for iOS](https://flutterchina.club/flutter-for-ios/)

### Flutter高性能

-   屏幕绘制原理
    -   显示器以固定的频率刷新，比如`iPhone`的60HZ,当1帧图线绘制完毕后进入下一帧时，显示器会发出一个垂直同步信号`VSync`，所以60HZ的屏幕就会一秒发出60次这样的信号。
    -   一般来说，计算机系统中，`CPU`,`GPU`和显示器以一种特定的方式协作，`CPU`将计算好的显示内容发送提交给`GPU`，`GPU`渲染后放入帧缓冲区，然后视频控制器按照`VSync`信号从帧缓冲区取帧数据传递给显示器显示。

### Dart

-   内存分配机制
    -   内存分配机制比较简单，只是简单的堆内存Add，内存增长是线性增长
    -   类线程概念是`Isolate`，每个`Isolate`之间无法共享内存，所以这种分配策略可以让`Dart`实现无锁的快速分配
-   垃圾回收机制
    -   多生代算法，新生代在回收内存时采用了`半空间算法`,触发垃圾回收机制的`Dart`会将当前半空间中的`活跃对象`拷贝到备用空间，然后整体释放当前空间的所有内存。？？？，比较适合`Flutter`中大量的`Widget`重建的场景
    -   调度器：在`Flutter`中，为了最小化垃圾收集对应用程序和性能的影响，对垃圾收集器提供了`hook`,当引擎检测到应用程序处于空闲状态时，会发出警报，为垃圾收集器提供运行其收集阶段而不影响性能的机会。并且垃圾收集器可以在空闲时间运行内存压缩，从而减少内存随便来优化内存。
-   编译模式
    -   JIT(`Just in Time compiler`)- 即时编译
    -   AOT(`Ahead of Time`)- 预编译
-    单线程、异步消息机制
    -   单线程 省去了多线程上下文切换带来的性能损耗
    -   异步消息机制：其实是消息队列的机制